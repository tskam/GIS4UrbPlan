<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>GIS for Urban Planning: QGIS methods - 6&nbsp; Trade Area Analysis with Vector-based GIS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Hands-on_Ex06.html" rel="next">
<link href="./Hands-on_Ex04.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Trade Area Analysis with Vector-based GIS</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">GIS for Urban Planning: QGIS methods</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">My First Date with QGIS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Working with GIS Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">GIS Mapping and Geovisualisation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Land Use/Land Cover (LULC) Change Detection with Vector-based GIS Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex05.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Trade Area Analysis with Vector-based GIS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex06.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Cartographic Modelling with Raster-based GIS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_Ex07.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">GIS Modelling for Urban Land Suitability Study</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-trade-area-analysis" id="toc-what-is-trade-area-analysis" class="nav-link active" data-scroll-target="#what-is-trade-area-analysis"> <span class="header-section-number">6.1</span> What is Trade Area Analysis</a>
  <ul class="collapse">
  <li><a href="#setting-the-scene" id="toc-setting-the-scene" class="nav-link" data-scroll-target="#setting-the-scene"> <span class="header-section-number">6.1.1</span> Setting the Scene</a></li>
  <li><a href="#framing-the-problem-and-collecting-the-data" id="toc-framing-the-problem-and-collecting-the-data" class="nav-link" data-scroll-target="#framing-the-problem-and-collecting-the-data"> <span class="header-section-number">6.1.2</span> Framing the Problem and Collecting the Data</a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation"> <span class="header-section-number">6.2</span> Data Preparation</a>
  <ul class="collapse">
  <li><a href="#loading-the-gis-data" id="toc-loading-the-gis-data" class="nav-link" data-scroll-target="#loading-the-gis-data"> <span class="header-section-number">6.2.1</span> Loading the GIS Data</a></li>
  <li><a href="#using-attribute-query-to-select-a-subset-from-a-master-layer" id="toc-using-attribute-query-to-select-a-subset-from-a-master-layer" class="nav-link" data-scroll-target="#using-attribute-query-to-select-a-subset-from-a-master-layer"> <span class="header-section-number">6.2.2</span> Using Attribute Query to Select a Subset from a Master layer</a></li>
  <li><a href="#using-spatial-query-to-select-a-subset-from-a-master-layer" id="toc-using-spatial-query-to-select-a-subset-from-a-master-layer" class="nav-link" data-scroll-target="#using-spatial-query-to-select-a-subset-from-a-master-layer"> <span class="header-section-number">6.2.3</span> Using Spatial Query to Select a Subset from a Master Layer</a></li>
  </ul></li>
  <li><a href="#trade-area-delineation" id="toc-trade-area-delineation" class="nav-link" data-scroll-target="#trade-area-delineation"> <span class="header-section-number">6.3</span> Trade Area Delineation</a>
  <ul class="collapse">
  <li><a href="#delineating-ring-trade-areas-using-buffering-tool" id="toc-delineating-ring-trade-areas-using-buffering-tool" class="nav-link" data-scroll-target="#delineating-ring-trade-areas-using-buffering-tool"> <span class="header-section-number">6.3.1</span> Delineating Ring Trade Areas using Buffering Tool</a></li>
  <li><a href="#delineating-trade-areas-using-voronoi-tool" id="toc-delineating-trade-areas-using-voronoi-tool" class="nav-link" data-scroll-target="#delineating-trade-areas-using-voronoi-tool"> <span class="header-section-number">6.3.2</span> Delineating Trade Areas using Voronoi Tool</a></li>
  </ul></li>
  <li><a href="#overlying-analysis" id="toc-overlying-analysis" class="nav-link" data-scroll-target="#overlying-analysis"> <span class="header-section-number">6.4</span> Overlying Analysis</a>
  <ul class="collapse">
  <li><a href="#creating-a-composite-catchment-areas" id="toc-creating-a-composite-catchment-areas" class="nav-link" data-scroll-target="#creating-a-composite-catchment-areas"> <span class="header-section-number">6.4.1</span> Creating a composite catchment areas</a></li>
  <li><a href="#selecting-smes-within-the-composite-trade-areas" id="toc-selecting-smes-within-the-composite-trade-areas" class="nav-link" data-scroll-target="#selecting-smes-within-the-composite-trade-areas"> <span class="header-section-number">6.4.2</span> Selecting SMEs within the Composite Trade Areas</a></li>
  </ul></li>
  <li><a href="#preparing-a-choropleth-map" id="toc-preparing-a-choropleth-map" class="nav-link" data-scroll-target="#preparing-a-choropleth-map"> <span class="header-section-number">6.5</span> Preparing a Choropleth map</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Trade Area Analysis with Vector-based GIS</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.</p>
<p>By the end of this session, you will be able to:</p>
<ul>
<li><p>prepare GIS layers by using appropriate geoprocessing functions of QGIS,</p></li>
<li><p>delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and</p></li>
<li><p>analyse trade areas using spatial overlay functions of QGIS.</p></li>
</ul>
<section id="what-is-trade-area-analysis" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="what-is-trade-area-analysis"><span class="header-section-number">6.1</span> What is Trade Area Analysis</h2>
<p>A trade area is the geographic area from which a business draws its customers. The size of a trade area depends on the variety of goods and services offered in the community and its proximity to competing retail markets. In most cases, consumers are willing to travel further to purchase high order goods, such as automobiles, furniture, recreational vehicles, and specialty items than they are to purchase lower order goods, such as clothing, drugs, groceries and gasoline.</p>
<p>Trade area analysis is a methodology, process or technique that provides a basis for understanding, visualizing and quantifying the extent and characteristics of known or approximated trade areas. It has been used by businesses to gain better understanding on the geographic extent and characteristics of business patronage, to assess business performance spatially, to perform competitive analysis, to evaluate market penetration and to identify market gap. Prior to GIS age, trade area analysis was a very time-consuming process. A simple trade area study for a retail operation can easily take more than six months or a year to complete. Today, with appropriate and readily available GIS data and open source GIS such as QGIS, it is possible to complete a trade area analysis within a week.</p>
<p>In this exercise, you will learn how to use the GIS analysis functions such as buffering, overlaying, voronoi diagram to delineate trade areas of a retail business. You will also learn how to use appropriate GIS analyse and mapping techniques to analyse and visualize the potential customers of these trade areas.</p>
<section id="setting-the-scene" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="setting-the-scene"><span class="header-section-number">6.1.1</span> Setting the Scene</h3>
<p>XBS is a well established local bank. It has a total of 30 branches scatter around the country. The bank is planning to launch a special low interest loan programme to help small- and medium-scale enterprises (SME) to improve the productivity of their workers. Before the scheme is launched, Richard Lim, the Senior Vice President of XBS Retail Banking would like to find out the numbers of SMEs located within the trade areas of XBS branches.</p>
</section>
<section id="framing-the-problem-and-collecting-the-data" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="framing-the-problem-and-collecting-the-data"><span class="header-section-number">6.1.2</span> Framing the Problem and Collecting the Data</h3>
<p>Three GIS data are available for this study. They are:</p>
<ul>
<li>Locations of Banking facilities and their associated information (i.e.&nbsp;Banking)</li>
<li>Location SME and their associated information (i.e.&nbsp;SME)</li>
<li>Outline map of Singapore (i.e.&nbsp;CoastalOutline)</li>
</ul>
<p>These dataset can be found in the <code>Hands-on_Ex06.zip</code>. You are required to download them and save into your local drive. Throughout this hands-on exercise, we will assume that these GIS data and other derived GIS data are stored in the <code>\SMT201\Hands-on_Ex06</code> sub-folder of your local drive.</p>
</section>
</section>
<section id="data-preparation" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="data-preparation"><span class="header-section-number">6.2</span> Data Preparation</h2>
<section id="loading-the-gis-data" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="loading-the-gis-data"><span class="header-section-number">6.2.1</span> Loading the GIS Data</h3>
<p>Before you can start to perform any analysis, you need to load all the appropriate GIS data into QGIS.</p>
<blockquote class="blockquote">
<p>DIY: Use the skills you learned from last lesson, launch QGIS and load all the GIS files in the SHPFiles sub-folder into QGIS.</p>
</blockquote>
</section>
<section id="using-attribute-query-to-select-a-subset-from-a-master-layer" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="using-attribute-query-to-select-a-subset-from-a-master-layer"><span class="header-section-number">6.2.2</span> Using Attribute Query to Select a Subset from a Master layer</h3>
<p>The Banking layer consists of locations of banking facilities such as ATM, AXM, SAM and branches for several banks. We are only interested on bank branches belong to XBS. In this section, you will learn how to extract a subset of dataset from a master dataset using GIS query function.</p>
<p>Before you can perform attribute query, you need to examine the Banking layer careful and to identify the appropriate field and object name (s) to query.</p>
<ul>
<li>At <strong>Browser</strong> pane, right-click on <code>Banking</code>.</li>
<li>From the context menu, select <strong>Open Attribute Table</strong>.</li>
</ul>
<p>The Attribute Table window appears.</p>
<p><img src="img05/image1.jpg" class="img-fluid"></p>
<p>Notice that a total of 2908 rows and each row represents a geospatial point object, in this case a particular banking facility. For example, the first record represents a SAM machine.</p>
<p>If you scroll downwards, you will find that under the <em>DESC</em> field there are a collection of records with a description of <em>XBS</em>. This is actually the <em>XBS</em> branches.</p>
<p>Next, you will extract all the <em>XBS</em> branches using the query function of QGIS.</p>
<ul>
<li>At the Attribute Table window click on Select feature using an expression icon.</li>
</ul>
<p><img src="img05/image2.jpg" class="img-fluid"></p>
<p>The <strong>Selection by expression</strong> dialog window appears.</p>
<p><img src="img05/image3.jpg" class="img-fluid"></p>
<ul>
<li>At the upper left corner of the window, click on the <strong>Expression</strong> tab.</li>
<li>For <strong>Search</strong>, click on <strong>Fields and Values</strong>.</li>
<li>Scroll downwards until <em>DESC</em> field appears.</li>
<li>Double click on <em>DESC</em> field.</li>
</ul>
<p>Notice that the syntax “DESC” has been entered on the Expression pane.</p>
<p><img src="img05/image4.jpg" class="img-fluid"></p>
<p>Now, you are going to enter the expression.</p>
<ul>
<li>From the <strong>Expression</strong> pane, click on <strong>=</strong> icon.</li>
</ul>
<p>Next, you are going complete the query statement by providing the field value.</p>
<ul>
<li>At the <strong>Values</strong> pane, click on the all unique button.</li>
</ul>
<p>Your screen should look similar to the figure below.</p>
<p><img src="img05/image5.jpg" class="img-fluid"></p>
<ul>
<li>Double-click on <em>XBS</em>.</li>
</ul>
<p>The query statement in the Expression pane should look similar to the figure below.</p>
<p><img src="img05/image6.jpg" class="img-fluid"></p>
<p>Next, you will execute the query.</p>
<ul>
<li>Click on <strong>Select Features</strong> button.</li>
<li>Click on <strong>Close</strong> button.</li>
</ul>
<p>You will return to <strong>Attribute Table</strong> window.</p>
<p>If you scroll downwards now, you will notice that all records with XBS in DESC field are highlighted as shown in the figure below. This shows that banking facilities which are XBS branches have been selected.</p>
<p><img src="img05/image7.jpg" class="img-fluid"></p>
<p>Now, you are going to save these selected records including their corresponding spatial objects into a new GIS data file. This GIS data will be stored in <strong>GeoPackage</strong> format.</p>
<blockquote class="blockquote">
<p>Use the steps you had learned from previous hands-on exercise, save the output in Geopackage format. Name the newly created GIS layer <code>XBS_branches</code>. Symbolising the <code>XBS_branches</code> using appropriate maker. Lastly, remove <code>Banking</code> GIS layer from the <strong>Browser</strong> pane because you no longer need it anymore.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below after the customization.</p>
<p><img src="img05/image8.jpg" class="img-fluid"></p>
</section>
<section id="using-spatial-query-to-select-a-subset-from-a-master-layer" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="using-spatial-query-to-select-a-subset-from-a-master-layer"><span class="header-section-number">6.2.3</span> Using Spatial Query to Select a Subset from a Master Layer</h3>
<p>It is not unusual that the original dataset provided for an analysis are full of dirty data. It is important for an analyst to review the datasets carefully and to exclude these data from the analysis. In this section, you will learn how to use the Spatial Query function of QGIS to interactive select several dirty data and then delete them from the <code>SME</code> GIS data layer.</p>
<p>Let us examine the spatial extend of the <code>SME</code> layer.</p>
<ul>
<li>At <strong>Browser</strong> panel, right-click on <code>SME</code>.</li>
<li>Select <strong>Zoom to Layer(s)</strong> from the context menu.</li>
</ul>
<p>Notice that there are a collection of points located at the lower left of the Map View window. Obviously, this is not logical because all the points representing the locations of the SMEs should fall within the boundary Singapore island.</p>
<p><img src="img05/image9.jpg" class="img-fluid"></p>
<p>This problem happens mainly because some SMEs were not geocoded properly.</p>
<p>Next, you will learn how to use the spatial selection function of QGIS to select all the SMEs fall within the national boundary and save them in a new GIS data file. Again, keep this data in GeoPackage format.</p>
<ul>
<li>From the icon bar, click on the drop-down list next to Selection icon.</li>
</ul>
<p><img src="img05/image10.jpg" class="img-fluid"></p>
<ul>
<li>Select <strong>Select Feature(s)</strong> from the drop-down list.</li>
<li>At <strong>Browser</strong> panel, click on SME to make sure that it is the active layer.</li>
<li>Click and drape to form a rectangle to cover all the points fall within Singapore island.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image11.jpg" class="img-fluid"></p>
<ul>
<li>Next, release the mouse.</li>
</ul>
<p>Notice that all the selected points will be highlighted.</p>
<p><img src="img05/image12.jpg" class="img-fluid"></p>
<blockquote class="blockquote">
<p>DIY: Use the steps you had learned from previous section, save the output in GeoPackage format. Name the newly created GIS layer <code>SMEs</code>. Symbolising the <code>SMEs</code> using appropriate maker. Lastly, remove <code>SME</code> layer from the Browser panel because you no longer need it anymore.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image13.jpg" class="img-fluid"></p>
</section>
</section>
<section id="trade-area-delineation" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="trade-area-delineation"><span class="header-section-number">6.3</span> Trade Area Delineation</h2>
<section id="delineating-ring-trade-areas-using-buffering-tool" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="delineating-ring-trade-areas-using-buffering-tool"><span class="header-section-number">6.3.1</span> Delineating Ring Trade Areas using Buffering Tool</h3>
<p>The buffer zone method is one of the quickest and simplest procedures for delineating a catchment area, representing the area by means of one or more concentric circles with the location at their centre (core, close and outer area, see Fig. 1).</p>
<p><img src="img05/image14.jpg" class="img-fluid"></p>
<p>In this method, each zone is determined by the radius of the buffer zone measured ‘as the crow flies’. Traditionally, delineating trade areas for a collection retail outlets such as bank branches can be rather time-consuming. With GIS, trade areas can be delineated using the buffering tool of QGIS.</p>
<p>In this section, you are going to create a 1km buffer around the XBS bank branches.</p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Geoprocessing Tools</strong> -&gt; <strong>Buffer..</strong> .</li>
</ul>
<p>The <strong>Buffer</strong> dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>XBS_branches</code> from the drop-down list.</li>
<li>For <strong>Distance</strong>, type <em>1000</em>. (Do you know why?)</li>
<li>For <strong>Segments</strong>, type <em>100</em>. (Do you know why?)</li>
</ul>
<p>Keep the rest of setting as default.</p>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image15.jpg" class="img-fluid"></p>
<p>Next, you will run the buffering process.</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>When the geoprocessing process completed, the Buffer dialog window will be updated with the geoprocessing log as shown in the screenshot below.</p>
<p><img src="img05/image16.jpg" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Good Practice: Always read the output log carefully before moving to the next step.</p>
</blockquote>
<p>Since the buffering process is completed without any error, you can close the Buffer dialog window now.</p>
<p>• From <strong>Buffer</strong> dialog window, click on <strong>Close</strong> button.</p>
<p>Notice that a new GIS layer called <code>Buffered</code> has been added into the Browser panel.</p>
<p>By default, the output is stored in the memory as shown in the screenshot below.</p>
<p><img src="img05/image17.jpg" class="img-fluid"></p>
<p>In order to avoid losing the analysis result, it is wiser for us to save buffering output in local drive.</p>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned in previous hands-on exercise, save the output buffering layer into GeoPackage format. Name the newly create layer <code>Overlapping_buffer_1km</code>. Also, don’t forget to remove the temporary output layer!</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image18.jpg" class="img-fluid"></p>
<p>A close examination of the screenshot above, we will notice that there are several overlapping buffers especially at the down-town area.</p>
<p>Next, you will delineate dissolved buffers to overcome the overlapping buffers problem.</p>
<blockquote class="blockquote">
<p>DIY: Repeat the steps above to delineate a new set of trade areas using the buffering tool. Use the configurations similar to the steps above except check the <strong>Dissolve results</strong>. Name the output GeoPackage layer as <code>Dissolved_buffer_1km</code>. Also, don’t forget to remove the temporary output layer!</p>
</blockquote>
<p>Your result should look similar to the screenshot below.</p>
<p><img src="img05/image19.jpg" class="img-fluid"></p>
</section>
<section id="delineating-trade-areas-using-voronoi-tool" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="delineating-trade-areas-using-voronoi-tool"><span class="header-section-number">6.3.2</span> Delineating Trade Areas using Voronoi Tool</h3>
<p>Voronoi polygons, also known as <a href="http://h2g2.com/dna/h2g2/A901937">Thiessen polygons</a>, represent areas of influence around a set of focal points (or retail outlets as in this study). They can be generated based on a set of points as centroid for the polygons. Voronoi polygons have been so constructed that each polygon contains exactly one of the outlets and that any location with a Voronoi polygon is closer to that point outlet (centroid) than to any other point outlets.</p>
<p>This polygon structure is constructed by using the perpendicular bisectors between neighbouring points (in this case, retail outlets) as the boundaries of the resulting Voronoi polygons.</p>
<p><img src="img05/image20.jpg" class="img-fluid"></p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Geometric Tools</strong> -&gt; <strong>Voronoi Polygon</strong>.</li>
</ul>
<p><strong>Voronoi Polygons</strong> dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>XBS_branches</code> from the drop-down list.</li>
<li>For <strong>Buffer region</strong>, type 100. (Do you know why?)</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image21.jpg" class="img-fluid"></p>
<p>Next, you will run the geoprocess.</p>
<ul>
<li>At <strong>Voronoi Polygons</strong> dialog window, click on <strong>Run</strong> button.</li>
</ul>
<p>When the voronoi polygon computation process completed, you screen should look similar to the screenshot below.</p>
<p><img src="img05/image22.jpg" class="img-fluid"></p>
<p>You can close Voronoi Polygons dialog window now.</p>
<ul>
<li>From <strong>Voronoi Polygons</strong> dialog window, click on <strong>Close</strong> button.</li>
</ul>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned from previous section, save the output as GeoPackage layer. Name the output file <code>Voronoi_TAs</code>. Remember to remove the temporary layer from Browser pane.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image23.jpg" class="img-fluid"></p>
</section>
</section>
<section id="overlying-analysis" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="overlying-analysis"><span class="header-section-number">6.4</span> Overlying Analysis</h2>
<p>In this section, you will learn how to create a composite catchment area drawing by using topological overlay function. You will use the Dissolved buffer for bank branch drawing as the input drawing and Voronoi area for bank branch as the overlay drawing. The topology overlay operator used will be <strong>Intersect</strong>.</p>
<section id="creating-a-composite-catchment-areas" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="creating-a-composite-catchment-areas"><span class="header-section-number">6.4.1</span> Creating a composite catchment areas</h3>
<ul>
<li>From the main menu, select <strong>Vector</strong> -&gt; <strong>Geoprocessing Tools</strong> -&gt; <strong>Intersection</strong>.</li>
</ul>
<p>The Intersection dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>Voronoi_TAs</code> from the drop-down list.</li>
<li>For <strong>Intersection</strong> layer, select <code>Dissolved_buffer_1km</code> from the drop-down list.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image24.jpg" class="img-fluid"></p>
<ul>
<li>Click on <strong>Run</strong> to perform the overlaying process.</li>
</ul>
<p>After the <strong>Intersection</strong> computation completed, close the dialog window.</p>
<ul>
<li>From the <strong>Intersection</strong> dialog window, click on <strong>Close</strong> button.</li>
</ul>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned from previous section, save the newly computed layer as Geopackage layer. Name the output GIS layer as <code>Composite_TAs</code>.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image25.jpg" class="img-fluid"></p>
</section>
<section id="selecting-smes-within-the-composite-trade-areas" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="selecting-smes-within-the-composite-trade-areas"><span class="header-section-number">6.4.2</span> Selecting SMEs within the Composite Trade Areas</h3>
<p>Now you are going to select SMEs fall within the composite catchment areas of XBS bank branches.</p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Analysis Tools</strong> -&gt; <em>Count Points in Polygon</em>.</li>
</ul>
<p><strong>Count Points in Polygon</strong> dialog window appears.</p>
<ul>
<li>For <strong>Polygons</strong>, select <em>Composite_TAs</em> from the drop-down list.</li>
<li>For <strong>Points</strong>, select <strong>SMEs</strong> from the drop-down list.</li>
<li>For <strong>Count field name</strong>, you can either provide your own name or keep the default.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image26.jpg" class="img-fluid"></p>
<p>Wne you are ready to run the process,</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>When the computation completed, the Log report appears.</p>
<p>Notice that a new temporary GIS layer called COUNT has beenn added on the Browser panel.</p>
<ul>
<li>Click on <strong>Close</strong> button to close the dialog window.</li>
</ul>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned from previous section, save the output as GeoPackage layer. Name the output file <code>Composite_TAs_SMEs</code>. Remember to remove the temporary layer from Browser panel.</p>
</blockquote>
<p>If you compare <code>Composite_TAs</code> and <code>Composite_TAs_SMEs</code> layers visually, both of them look very similar. However, if you compare their attribute tables you will notice that a new column called NUMPOINTS has been added in the attribute table of <code>Composite_TAs_SMEs</code>.</p>
<p><img src="img05/image27.jpg" class="img-fluid"></p>
<p>The <em>NUMPOINTS</em> field is populated with numbers. Actually, these numbers represent total number of SMEs fall within the trade areas.</p>
</section>
</section>
<section id="preparing-a-choropleth-map" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="preparing-a-choropleth-map"><span class="header-section-number">6.5</span> Preparing a Choropleth map</h2>
<p>Choropleth mapping involves the symbolization of enumeration units, such as countries, provinces, states, counties or census units, using area patterns or graduated colors. For example, a crime analyst may need to use a choropleth map to portray the spatial patterns of household income distribution of Singapore by DGP (Development Guide Plan) Subzone.</p>
<p>The major concerns of choropleth mapping are the method of data classification, areal symbolization, and the overall map design. General rules for choropleth mapping are as follows:</p>
<ul>
<li>Use data that are assumed to be uniform throughout an enumeration unit.</li>
<li>Because enumeration units vary in size, do not map totals. Use derived values, such as ratios, rates, proportions, or percentages.</li>
<li>The best classing method depends on the data, the map reader and the purpose of the map.</li>
<li>When classifying data, the full range of data must be included and class values should not overlap. No more than six classes are recommended.</li>
<li>Class symbols (i.e.&nbsp;colors or patterns) must be easily distinguishable.</li>
</ul>
<blockquote class="blockquote">
<p>DIY: Use the steps you had learned from previous lesson, prepare a choropleth map showing the number of SMEs fall within the trade areas of XBS branches.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img05/image28.jpg" class="img-fluid"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Hands-on_Ex04.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Land Use/Land Cover (LULC) Change Detection with Vector-based GIS Analysis</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Hands-on_Ex06.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Cartographic Modelling with Raster-based GIS</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>